(()=>{"use strict";var e={757:(e,t,n)=>{n.r(t),n.d(t,{forward:()=>i,getLetterDesignator:()=>d,inverse:()=>l,toPoint:()=>s});const o=65,r=73,a=79;function i(e,t){if(t="number"==typeof t?t:5,!Array.isArray(e))throw new TypeError("forward did not receive an array");if("string"==typeof e[0]||"string"==typeof e[1])throw new TypeError("forward received an array of strings, but it only accepts an array of numbers.");const[n,i]=e;if(n<-180||n>180)throw new TypeError("forward received an invalid longitude of "+n);if(i<-90||i>90)throw new TypeError("forward received an invalid latitude of "+i);if(i<-80||i>84)throw new TypeError(`forward received a latitude of ${i}, but this library does not support conversions of points in polar regions below 80°S and above 84°N`);return function(e,t){const n="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+function(e,t,n){const i=f(n);return function(e,t,n){const i=n-1,l="AJSAJS".charCodeAt(i),s="AFAFAF".charCodeAt(i);let c=l+e-1,g=s+t,u=!1;return c>90&&(c=c-90+o-1,u=!0),(c===r||l<r&&c>r||(c>r||l<r)&&u)&&c++,(c===a||l<a&&c>a||(c>a||l<a)&&u)&&(c++,c===r&&c++),c>90&&(c=c-90+o-1),g>86?(g=g-86+o-1,u=!0):u=!1,(g===r||s<r&&g>r||(g>r||s<r)&&u)&&g++,(g===a||s<a&&g>a||(g>a||s<a)&&u)&&(g++,g===r&&g++),g>86&&(g=g-86+o-1),String.fromCharCode(c)+String.fromCharCode(g)}(Math.floor(e/1e5),Math.floor(t/1e5)%20,i)}(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+i.substr(i.length-5,t)}(function(e){const t=e.lat,n=e.lon,o=6378137,r=c(t),a=c(n);let i;i=Math.floor((n+180)/6)+1,180===n&&(i=60),t>=56&&t<64&&n>=3&&n<12&&(i=32),t>=72&&t<84&&(n>=0&&n<9?i=31:n>=9&&n<21?i=33:n>=21&&n<33?i=35:n>=33&&n<42&&(i=37));const l=c(6*(i-1)-180+3),s=o/Math.sqrt(1-.00669438*Math.sin(r)*Math.sin(r)),g=Math.tan(r)*Math.tan(r),u=.006739496752268451*Math.cos(r)*Math.cos(r),f=Math.cos(r)*(a-l),h=.9996*s*(f+(1-g+u)*f*f*f/6+(5-18*g+g*g+72*u-.39089081163157013)*f*f*f*f*f/120)+5e5;let p=.9996*(o*(.9983242984503243*r-.002514607064228144*Math.sin(2*r)+2639046602129982e-21*Math.sin(4*r)-3.418046101696858e-9*Math.sin(6*r))+s*Math.tan(r)*(f*f/2+(5-g+9*u+4*u*u)*f*f*f*f/24+(61-58*g+g*g+600*u-2.2240339282485886)*f*f*f*f*f*f/720));return t<0&&(p+=1e7),{northing:Math.trunc(p),easting:Math.trunc(h),zoneNumber:i,zoneLetter:d(t)}}({lat:i,lon:n}),t)}function l(e){const t=u(h(e.toUpperCase()));return"number"==typeof t.lat&&"number"==typeof t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function s(e){if(""===e)throw new TypeError("toPoint received a blank string");const t=u(h(e.toUpperCase()));return"number"==typeof t.lat&&"number"==typeof t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function c(e){return e*(Math.PI/180)}function g(e){return e/Math.PI*180}function u(e){const t=e.northing,n=e.easting,{zoneLetter:o,zoneNumber:r}=e;if(r<0||r>60)return null;const a=6378137,i=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),l=n-5e5;let s=t;o<"N"&&(s-=1e7);const c=6*(r-1)-180+3,d=s/.9996/6367449.145945056,f=d+(3*i/2-27*i*i*i/32)*Math.sin(2*d)+(21*i*i/16-55*i*i*i*i/32)*Math.sin(4*d)+151*i*i*i/96*Math.sin(6*d),h=a/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),p=Math.tan(f)*Math.tan(f),m=.006739496752268451*Math.cos(f)*Math.cos(f),b=.99330562*a/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),w=l/(.9996*h);let y=f-h*Math.tan(f)/b*(w*w/2-(5+3*p+10*m-4*m*m-.06065547077041606)*w*w*w*w/24+(61+90*p+298*m+45*p*p-1.6983531815716497-3*m*m)*w*w*w*w*w*w/720);y=g(y);let M,k=(w-(1+2*p+m)*w*w*w/6+(5-2*m+28*p-3*m*m+.05391597401814761+24*p*p)*w*w*w*w*w/120)/Math.cos(f);if(k=c+g(k),"number"==typeof e.accuracy){const t=u({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});M={top:t.lat,right:t.lon,bottom:y,left:k}}else M={lat:y,lon:k};return M}function d(e){if(e<=84&&e>=72)return"X";if(e<72&&e>=-80){const t=8,n=-80;return"CDEFGHJKLMNPQRSTUVWX"[Math.floor((e-n)/t)]}return e>84||e<-80?"Z":void 0}function f(e){let t=e%6;return 0===t&&(t=6),t}function h(e){if(e&&0===e.length)throw new TypeError("MGRSPoint coverting from nothing");e=e.replace(/ /g,"");const{length:t}=e;let n,i=null,l="",s=0;for(;!/[A-Z]/.test(n=e.charAt(s));){if(s>=2)throw new Error("MGRSPoint bad conversion from: "+e);l+=n,s++}const c=parseInt(l,10);if(0===s||s+3>t)throw new Error("MGRSPoint bad conversion from "+e);const g=e.charAt(s++);if(g<="A"||"B"===g||"Y"===g||g>="Z"||"I"===g||"O"===g)throw new Error(`MGRSPoint zone letter ${g} not handled: ${e}`);i=e.substring(s,s+=2);const u=f(c),d=function(e,t){let n="AJSAJS".charCodeAt(t-1),i=1e5,l=!1;for(;n!==e.charCodeAt(0);){if(n++,n===r&&n++,n===a&&n++,n>90){if(l)throw new Error("Bad character: "+e);n=o,l=!0}i+=1e5}return i}(i.charAt(0),u);let h=function(e,t){if(e>"V")throw new TypeError("MGRSPoint given invalid Northing "+e);let n="AFAFAF".charCodeAt(t-1),i=0,l=!1;for(;n!==e.charCodeAt(0);){if(n++,n===r&&n++,n===a&&n++,n>86){if(l)throw new Error("Bad character: "+e);n=o,l=!0}i+=1e5}return i}(i.charAt(1),u);for(;h<p(g);)h+=2e6;const m=t-s;if(m%2!=0)throw new Error("MGRSPoint has to have an even number\nof digits after the zone letter and two 100km letters - front\nhalf for easting meters, second half for\nnorthing meters "+e);const b=m/2;let w,y,M,k=0,S=0;return b>0&&(w=1e5/Math.pow(10,b),y=e.substring(s,s+b),k=parseFloat(y)*w,M=e.substring(s+b),S=parseFloat(M)*w),{easting:k+d,northing:S+h,zoneLetter:g,zoneNumber:c,accuracy:w}}function p(e){let t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw new TypeError("Invalid zone letter: "+e)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};const o=n(757);let r,a=[],i=null,l=[],s=!1,c=[],g=0,u=!0,d=null,f=null,h=!0,p=0,m=null,b=null,w=0,y=!1,M=0,k=!1,S=null;const v=55.03018,F=24.370464;let x=0;function L(){try{if(x++,console.log("Initializing Google Maps... (attempt "+x+")"),"undefined"==typeof google||!google.maps)throw new Error("Google Maps API not loaded");r=new google.maps.Map(document.getElementById("map"),{center:{lat:v,lng:F},zoom:13,mapTypeId:google.maps.MapTypeId.HYBRID,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,clickableIcons:!1}),r.addListener("click",function(e){s?e.latLng&&C(e.latLng):console.log("Map not ready - click ignored")}),r.addListener("mousemove",function(e){if(e.latLng){const t=D(e.latLng.lat(),e.latLng.lng()),n=document.getElementById("coordinateDisplay");n&&(n.textContent=t)}}),r.addListener("idle",function(){console.log("Google Maps fully loaded and ready"),s=!0,function(){console.log("Map is ready for interaction!"),r.setOptions({draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!1,clickableIcons:!0});const e=document.getElementById("loading");e&&(e.style.display="none"),P(!0),navigator.geolocation?(E("Getting Location...","info"),navigator.geolocation.getCurrentPosition(e=>{B(e),E("Location Tracking Active","success"),I()},e=>{console.log("Initial location request failed:",e),E("Unable To Get Location","error"),$()},{enableHighAccuracy:!0,timeout:3e4,maximumAge:3e3})):z("Geolocation is not supported by this browser.","error"),k=window.innerWidth<=768,console.log("Mobile detection - window width:",window.innerWidth,"isMobile:",k),k?(console.log("Mobile features enabled"),r.setOptions({gestureHandling:"greedy",zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!1}),S=r.addListener("center_changed",()=>{R()}),R()):console.log("Desktop mode - mobile features disabled")}()}),console.log("Google Maps initialized successfully")}catch(e){console.error("Error initializing Google Maps:",e),console.log("Retrying map initialization in 2 seconds..."),z("Google Maps failed to load. Retrying... (attempt "+x+")","warning"),setTimeout(L,2e3)}}function P(e){["zoomInBtn","zoomOutBtn","resetBtn","invertBtn","undoBtn","redoBtn","toggleDistancesBtn","pdfBtn","centerUserBtn","centerDefaultBtn"].forEach(t=>{const n=document.getElementById(t);n&&(n.disabled=!e)})}function C(e){const t=0===a.length?"S":"F";a.length>1&&(a[a.length-1].number=(a.length-1).toString(),a[a.length-1].marker.setLabel(a[a.length-1].number));const n=new google.maps.Marker({position:e,map:r,label:t}),o=function(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.charAt(Math.floor(26*Math.random()))}();a.push({position:e,number:t,letter:o,marker:n}),A(),console.log(`Added waypoint ${t} at ${e.lat()}, ${e.lng()}`)}function T(e,t){return google.maps.geometry.spherical.computeDistanceBetween(e,t)}function A(){if(i&&i.setMap(null),l.forEach(e=>e.setMap(null)),l=[],a.length>1){const e=a.map(function(e){return e.position});i=new google.maps.Polyline({path:e,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2}),i.setMap(r),u&&function(){for(let e=0;e<a.length-1;e++){const t=a[e].position,n=a[e+1].position,o=T(t,n),i=(t.lat()+n.lat())/2,s=(t.lng()+n.lng())/2,c=Math.round(o)+"m",g=new google.maps.Marker({position:{lat:i,lng:s},map:r,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`\n                    <svg width="60" height="30" xmlns="http://www.w3.org/2000/svg">\n                        <rect width="60" height="30" fill="white" stroke="red" stroke-width="2" rx="5"/>\n                        <text x="30" y="20" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="red">${c}</text>\n                    </svg>\n                `),scaledSize:new google.maps.Size(60,30),anchor:new google.maps.Point(30,15)},zIndex:1e3});l.push(g)}}()}}function D(e,t){try{const n=o.forward([t,e]);if(n.length>=15){const e=n.substring(3,5);return`${e} ${n.substring(5,9)} ${n.substring(10,14)}`}return n}catch(n){return console.error("MGRS conversion error:",n),`${e.toFixed(6)}, ${t.toFixed(6)}`}}function z(e,t="info"){const n=document.getElementById("statusMessage");n&&(n.textContent=e,n.style.display="block",n.style.background="error"===t?"rgba(220, 53, 69, 0.9)":"warning"===t?"rgba(255, 193, 7, 0.9)":"success"===t?"rgba(40, 167, 69, 0.9)":"rgba(0, 0, 0, 0.8)",setTimeout(()=>{n.style.display="none"},3e3))}function E(e,t="info"){if(y&&!e.includes("Retrying")&&!e.includes("Trying"))return void console.log("Blocked status update during retry:",e);const n=document.getElementById("status");n&&(n.textContent=e,n.className=`status-panel status-${t}`,n.style.display="flex",n.style.visibility="visible",n.style.opacity="1")}function $(){null===m&&(w=0,y=!0,M=Date.now(),E(d?"Trying To Update Location...":"Trying To Get Location...","warning"),b=window.setInterval(()=>{const e=Math.floor((Date.now()-M)/1e3);let t=`${d?"Trying To Update Location...":"Trying To Get Location..."} (${e}s)`;d&&p>0&&(t+=`. Last Known Location Accuracy: ${Math.round(p)}m`),E(t,"warning")},1e3),m=window.setInterval(()=>{w++,console.log("Retry attempt:",w),navigator.geolocation.getCurrentPosition(e=>{null!==m&&(clearInterval(m),m=null),null!==b&&(clearInterval(b),b=null),w=0,y=!1,M=0,B(e);const t=e.coords.accuracy;E(`Location Tracking Active (Accuracy: ${Math.round(t)}m)`,"success"),I()},e=>{console.log("Retry attempt failed:",e)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},5e3))}function I(){navigator.geolocation.watchPosition(e=>B(e),e=>{console.log("Location watch error:",e),E("Location updates unavailable","warning"),$()},{enableHighAccuracy:!0,timeout:3e4,maximumAge:3e3})}function B(e){const t=e.coords.latitude,n=e.coords.longitude;if(d=new google.maps.LatLng(t,n),f&&f.setMap(null),f=new google.maps.Marker({position:d,map:r,title:"Your Location",icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">\n                    <circle cx="12" cy="12" r="10" fill="#4285F4" stroke="#FFFFFF" stroke-width="2"/>\n                    <circle cx="12" cy="12" r="4" fill="#FFFFFF"/>\n                </svg>\n            '),scaledSize:new google.maps.Size(24,24),anchor:new google.maps.Point(12,12)}}),h)z(`Location found: ${t.toFixed(6)}, ${n.toFixed(6)}`,"success"),h=!1;else{console.log("Location updated:",t,n);const o=e.coords.accuracy;console.log("Location accuracy:",o,"m"),p=o,y||E(`Location tracking active (accuracy: ${Math.round(o)}m)`,"success")}console.log("User location:",t,n)}function R(){if(!k)return;const e=r.getCenter();if(e){const t=D(e.lat(),e.lng()),n=document.getElementById("mobileCenterCoords");n&&(n.textContent=t)}}window.addEventListener("load",function(){setTimeout(function(){s||(console.log("Map loading timeout - retrying..."),z("Google Maps is taking longer than expected. Retrying...","warning"),L())},6e3)}),setTimeout(function(){if(!s&&0===x)if(console.log("Google Maps callback not called - attempting manual initialization"),"undefined"!=typeof google&&google.maps)L();else{z("Google Maps API not available. Please check your internet connection.","error");const e=document.getElementById("loading");e&&(e.textContent="Google Maps API not available - Check Internet")}},3e3),window.addMobileWaypoint=function(){if(console.log("addMobileWaypoint called, isMobile:",k),!k)return void console.log("Not on mobile, skipping");const e=r.getCenter();console.log("Map center:",e),e?(console.log("Adding waypoint at center:",e.lat(),e.lng()),C(e)):(console.log("No map center available"),z("Unable to get map center","error"))},document.addEventListener("DOMContentLoaded",function(){P(!1)}),window.initMap=L,window.clearWaypoints=function(){a.forEach(function(e){e.marker.setMap(null)}),i&&i.setMap(null),l.forEach(e=>e.setMap(null)),l=[],a=[],c=[],g=0,console.log("History cleared, undo count reset to 0"),console.log("All waypoints cleared")},window.invertRoute=function(){if(!(a.length<2)){a.reverse();for(let e=0;e<a.length;e++)0===e?(a[e].number="S",a[e].marker.setLabel("S")):e===a.length-1?(a[e].number="F",a[e].marker.setLabel("F")):(a[e].number=e.toString(),a[e].marker.setLabel(e.toString()));A(),console.log("Route inverted")}},window.centerOnUserLocation=function(){d?(r.setCenter(d),z("Centered on your location","info")):z("No location available. Please wait for location tracking to start.","warning")},window.centerOnDefaultLocation=function(){const e=new google.maps.LatLng(v,F);r.setCenter(e),r.setZoom(13),z("Centered on default location","info")},window.undo=function(){if(console.log("Undo method called, undoCount:",g),g>=20)return console.log("Undo limit reached (20 operations)"),void z("Undo limit reached (20 operations)","warning");if(a.length>0){const e=a[a.length-1];console.log("Removing waypoint:",e.number),c.push({position:e.position,number:e.number,letter:e.letter}),e.marker.setMap(null),a.pop(),A();for(let e=0;e<a.length;e++)0===e?(a[e].number="S",a[e].marker.setLabel("S")):e===a.length-1?(a[e].number="F",a[e].marker.setLabel("F")):(a[e].number=e.toString(),a[e].marker.setLabel(e.toString()));g++,console.log("Waypoint removed, new length:",a.length,"undo count:",g)}else console.log("No waypoints to remove")},window.redo=function(){if(c.length>0){const e=c.pop();if(e){const t=new google.maps.Marker({position:e.position,map:r,label:e.number});a.push({position:e.position,number:e.number,letter:e.letter,marker:t}),function(){if(0!==a.length)for(let e=0;e<a.length;e++){const t=a[e];0===e?t.number="S":e===a.length-1?t.number="F":t.number=e.toString(),t.marker.setLabel(t.number)}}(),A(),g--,console.log("Redo: restored waypoint",e.number,"undo count:",g)}}else console.log("Nothing to redo")},window.generatePDF=function(){if(0!==a.length)try{if(void 0===window.pdfMake)return console.log("pdfmake not available, falling back to jsPDF"),void function(){try{if(void 0===window.jspdf)return void z("PDF libraries not loaded. Please refresh the page and try again.","error");const{jsPDF:e}=window.jspdf,t=new e;for(let e=0;e<a.length;e++)e<a.length-1&&(a[e].nextPoint=a[e+1]);const n=8,o=Math.ceil(a.length/n);for(let e=0;e<o;e++){e>0&&t.addPage();const o=e*n,r=Math.min(o+n,a.length)-o,i=2,l=t.internal.pageSize.getWidth(),s=t.internal.pageSize.getHeight(),c=l/i,g=s/2;console.log("PDF Debug - Page:",l,"x",s),console.log("PDF Debug - Cell:",c,"x",g),console.log("PDF Debug - Grid: 2x4, but using 2 physical rows"),t.setLineWidth(2);for(let e=0;e<r;e++){const n=Math.floor(e/i),o=e%i,r=Math.floor(n/2),a=o*c,l=r*g;t.rect(a,l,c,g)}t.setLineWidth(.5);for(let e=0;e<r;e++){const n=a[o+e],r=Math.floor(e/i),l=e%i,s=Math.floor(r/2),u=l*c,d=s*g,f=g/4;for(let e=1;e<4;e++){const n=d+e*f;t.line(u,n,u+c,n)}const h="F"===n.number?[`Taškas: ${"S"===n.number?"Startas":"F"===n.number?"Finišas":n.number}`,`Koordinatės: ${D(n.position.lat(),n.position.lng())}`,`Raidė: ${n.letter}`]:[`Taškas: ${"S"===n.number?"Startas":"F"===n.number?"Finišas":n.number}`,`Koordinatės: ${D(n.position.lat(),n.position.lng())}`,`Raidė: ${n.letter}`,`Sekančio taško koordinatės: ${e<a.length-1?D(a[o+e+1].position.lat(),a[o+e+1].position.lng()):"N/A"}`];t.setFontSize(12);for(let e=0;e<h.length;e++){const n=h[e],o=u+5,r=d+(e+1)*f-5;t.text(n,o,r)}}}const r=new Date,i=`orientation_${r.getFullYear().toString()+(r.getMonth()+1).toString().padStart(2,"0")+r.getDate().toString().padStart(2,"0")+"_"+r.getHours().toString().padStart(2,"0")+r.getMinutes().toString().padStart(2,"0")+r.getSeconds().toString().padStart(2,"0")}.pdf`;t.save(i),z(`PDF saved as ${i} (using jsPDF)`,"success"),console.log("PDF generated successfully with jsPDF fallback")}catch(e){console.error("Error generating PDF with jsPDF:",e),z("Error generating PDF: "+e.message,"error")}}();for(let e=0;e<a.length;e++)e<a.length-1&&(a[e].nextPoint=a[e+1]);const e=a.map((e,t)=>{const n="F"===e.number,o=t<a.length-1?D(a[t+1].position.lat(),a[t+1].position.lng()):"N/A";return{number:"S"===e.number?"Startas":"F"===e.number?"Finišas":e.number,coordinates:D(e.position.lat(),e.position.lng()),letter:e.letter,nextCoordinates:n?null:o,isFinish:n}}),t={pageSize:"A4",pageMargins:[0,0,0,0],content:[],styles:{cellHeader:{fontSize:14,bold:!0,alignment:"center",margin:[0,5,0,5]},cellText:{fontSize:16,alignment:"center",margin:[0,5,0,5]},cellBorder:{border:[!0,!0,!0,!0],borderColor:"#000000"}}},n=12,o=Math.ceil(e.length/n);for(let r=0;r<o;r++){const o=r*n,a=Math.min(o+n,e.length),i=e.slice(o,a),l=[];for(let e=0;e<i.length;e+=2){const t=[],n=i[e];if(n){const e=[];e.push({text:`Taškas: ${n.number}`,style:"cellText",alignment:"center"}),e.push({text:`Koordinatės: ${n.coordinates}`,style:"cellText",alignment:"center"}),e.push({text:`Raidė: ${n.letter}`,style:"cellText",alignment:"center"}),n.isFinish?e.push({text:"Sekančio taško koordinatės:\n N/A",style:"cellText",alignment:"center",color:"white"}):e.push({text:`Sekančio taško koordinatės:\n${n.nextCoordinates}`,style:"cellText",alignment:"center"}),t.push({stack:e,border:[!0,!0,!0,!0],fillColor:"#ffffff"})}const o=i[e+1];if(o){const e=[];e.push({text:`Taškas: ${o.number}`,style:"cellText",alignment:"center"}),e.push({text:`Koordinatės: ${o.coordinates}`,style:"cellText",alignment:"center"}),e.push({text:`Raidė: ${o.letter}`,style:"cellText",alignment:"center"}),o.isFinish?e.push({text:"Sekančio taško koordinatės:\n N/A",style:"cellText",alignment:"center",color:"white"}):e.push({text:`Sekančio taško koordinatės:\n ${o.nextCoordinates}`,style:"cellText",alignment:"center"}),t.push({stack:e,border:[!0,!0,!0,!0],fillColor:"#ffffff"})}else t.push({text:"",border:[!1,!1,!1,!1],fillColor:"#ffffff"});l.push(t)}r>0&&t.content.push({text:"",pageBreak:"before"}),t.content.push({table:{headerRows:0,widths:["50%","50%"],body:l},layout:{hLineWidth:function(){return 2},vLineWidth:function(){return 2},hLineColor:function(){return"#000000"},vLineColor:function(){return"#000000"}}})}const r=new Date,i=`orientation_${r.getFullYear().toString()+(r.getMonth()+1).toString().padStart(2,"0")+r.getDate().toString().padStart(2,"0")+"_"+r.getHours().toString().padStart(2,"0")+r.getMinutes().toString().padStart(2,"0")+r.getSeconds().toString().padStart(2,"0")}.pdf`;window.pdfMake.createPdf(t).download(i),z(`PDF saved as ${i}`,"success"),console.log("PDF generated successfully with pdfmake")}catch(e){console.error("Error generating PDF:",e),z("Error generating PDF: "+e.message,"error")}else z("No waypoints to generate PDF. Please add some points to the map first.","warning")},window.toggleDistances=function(){u=!u,A();const e=document.getElementById("toggleDistancesBtn");e&&(e.textContent=u?"Hide Distances":"Show Distances")}})();